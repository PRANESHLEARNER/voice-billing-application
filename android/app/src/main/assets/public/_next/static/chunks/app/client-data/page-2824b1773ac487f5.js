(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{54959:function(e,s,l){Promise.resolve().then(l.bind(l,24699))},24699:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return p}});var n=l(57437),i=l(2265),t=l(65613),r=l(62869),a=l(66070),c=l(35974),d=l(76865),o=l(52636),x=l(92934),m=l(17689),u=l(35410),h=l(29116);function j(){var e;let{user:s,isAdmin:l}=(0,u.a)(),[j,p]=(0,i.useState)(null),[f,g]=(0,i.useState)(!0),[v,N]=(0,i.useState)(null);return((0,i.useEffect)(()=>{let e=async()=>{try{g(!0);let e=await h.apiClient.getClientData();p(e),N(null)}catch(e){N(e.message||"Failed to load client data")}finally{g(!1)}};s&&e()},[s]),f)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Loading client data..."})]})}):v?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)(t.bZ,{className:"max-w-md",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),(0,n.jsx)(t.X,{children:v})]})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Client Data Intake"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Complete your business setup to unlock billing features"})]}),(0,n.jsxs)(r.z,{variant:"outline",onClick:()=>window.location.reload(),children:[(0,n.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),(null==j?void 0:j.status)==="complete"?(0,n.jsxs)(t.bZ,{children:[(0,n.jsx)(x.Z,{className:"h-4 w-4"}),(0,n.jsx)(t.X,{children:"Your client data has been approved and setup is complete. All features are now available."})]}):(null==j?void 0:j.status)==="pending_review"?(0,n.jsxs)(t.bZ,{children:[(0,n.jsx)(d.Z,{className:"h-4 w-4"}),(0,n.jsx)(t.X,{children:"Your data is currently under review. You'll be notified once it's approved."})]}):(0,n.jsxs)(t.bZ,{children:[(0,n.jsx)(m.Z,{className:"h-4 w-4"}),(0,n.jsx)(t.X,{children:"Please complete the client data intake form to enable billing and inventory features."})]}),(0,n.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Business Profile"}),(0,n.jsx)(a.SZ,{children:"Store information and contact details"})]}),(0,n.jsx)(a.aY,{children:(null==j?void 0:j.businessProfile)?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Store Name:"})," ",j.businessProfile.storeName]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Contact:"})," ",j.businessProfile.contactName]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Phone:"})," ",j.businessProfile.contactPhone]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",j.businessProfile.contactEmail]}),(0,n.jsx)(c.C,{variant:j.businessProfile.completed?"default":"secondary",children:j.businessProfile.completed?"Complete":"Incomplete"})]}):(0,n.jsx)("p",{className:"text-muted-foreground",children:"Not provided"})})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Tax Configuration"}),(0,n.jsx)(a.SZ,{children:"Tax settings and preferences"})]}),(0,n.jsx)(a.aY,{children:(null==j?void 0:j.taxConfig)?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Regime:"})," ",j.taxConfig.regime]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"GSTIN:"})," ",j.taxConfig.gstin||"Not provided"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Rounding:"})," ",j.taxConfig.roundingPreference]}),(0,n.jsx)(c.C,{variant:j.taxConfig.completed?"default":"secondary",children:j.taxConfig.completed?"Complete":"Incomplete"})]}):(0,n.jsx)("p",{className:"text-muted-foreground",children:"Not provided"})})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Item Master"}),(0,n.jsx)(a.SZ,{children:"Product catalog and pricing"})]}),(0,n.jsx)(a.aY,{children:(null==j?void 0:j.itemMaster)?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Total SKUs:"})," ",j.itemMaster.totalSkuCount]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Categories:"})," ",(null===(e=j.itemMaster.categories)||void 0===e?void 0:e.join(", "))||"None"]}),(0,n.jsx)(c.C,{variant:j.itemMaster.completed?"default":"secondary",children:j.itemMaster.completed?"Complete":"Incomplete"})]}):(0,n.jsx)("p",{className:"text-muted-foreground",children:"Not provided"})})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsxs)(a.Ol,{children:[(0,n.jsx)(a.ll,{children:"Receipt Sample"}),(0,n.jsx)(a.SZ,{children:"Bill format and layout"})]}),(0,n.jsx)(a.aY,{children:(null==j?void 0:j.receiptSample)?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Format:"})," ",j.receiptSample.useSystemDefault?"System Default":"Custom"]}),j.receiptSample.notes&&(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Notes:"})," ",j.receiptSample.notes]}),(0,n.jsx)(c.C,{variant:j.receiptSample.completed?"default":"secondary",children:j.receiptSample.completed?"Complete":"Incomplete"})]}):(0,n.jsx)("p",{className:"text-muted-foreground",children:"Not provided"})})]})]}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(r.z,{size:"lg",onClick:()=>window.location.href="/client-data",disabled:(null==j?void 0:j.status)==="pending_review"||(null==j?void 0:j.status)==="complete",children:(null==j?void 0:j.status)==="pending_review"||(null==j?void 0:j.status)==="complete"?"Already Submitted":"Complete Data Intake"})})]})}function p(){return(0,n.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,n.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,n.jsx)(j,{})})})}}},function(e){e.O(0,[383,508,971,117,744],function(){return e(e.s=54959)}),_N_E=e.O()}]);